(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c=n(6),o=n(0),a=n(9),r=n.n(a),d=n(25),s=n(17),i=(n(75),n(76),n(58)),l=n(14),j=n(8),p=n(48),b=n(117),u=n(122),O=n(121),m=n(123),h=n(57),f=n.n(h),x=n(41),C=(n(77),Object(b.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"350px"}}}})));var g=function(){var e=C(),t=Object(d.c)(),n=Object(o.useState)(!1),a=Object(p.a)(n,2),r=a[0],s=a[1],i=Object(o.useState)(""),l=Object(p.a)(i,2),b=l[0],h=l[1],g=Object(o.useState)({id:null,isCompleted:!1}),v=Object(p.a)(g,2),S=v[0],y=v[1],E=Object(d.d)((function(e){return e.todo})).todos,_=E&&E.filter((function(e){return!1===e.isCompleted})),N=E&&E.filter((function(e){return!0===e.isCompleted}));Object(o.useEffect)((function(){t((function(e){return fetch("https://enigmatic-dawn-93869.herokuapp.com/api").then((function(e){return e.json()})).then((function(t){e({type:"FETCH_SUCCESS",payload:{todos:t.todos}})}))}))}),[r]),Object(o.useEffect)((function(){S.id&&t(function(e,t){var n={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isCompleted:!t})};return function(t){return fetch("https://enigmatic-dawn-93869.herokuapp.com/api/todos/".concat(e),n).then((function(e){return e.json()})).then((function(e){t({type:"TODO_UPDATED_SUCCESSFUL",payload:{message:e.result}})}))}}(S.id,S.isCompleted)),s(!r)}),[S]);var T=Object(o.useCallback)((function(){0==b.trim().length?alert("todo cant be empty"):(s(!r),t(function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({todo:e,isCompleted:!1})};return function(e){return fetch("https://enigmatic-dawn-93869.herokuapp.com/api/addTodo",t).then((function(e){return e.json()})).then((function(t){e({type:"TODO_ADDED_SUCCESSFUL",payload:{message:t.result}})}))}}(b)),s(!r))}));return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"add-bar-container",children:[Object(c.jsx)("form",{className:e.root,noValidate:!0,autoComplete:"off",children:Object(c.jsx)(u.a,{id:"outlined-basic",inputProps:{maxLength:450},onChange:function(e){return h(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&T()},label:"todo",variant:"outlined"})}),Object(c.jsx)(O.a,{color:"primary",className:"add-icon","aria-label":"add",children:Object(c.jsx)(f.a,{})})]}),Object(c.jsx)("div",{className:"main-container",children:Object(c.jsxs)(x.a,{onDragEnd:function(e){if(null!=e.destination){var t=e.destination.droppableId,n=e.source.droppableId;e.destination&&("completed"===t&&"n-completed"===n&&y(Object(j.a)(Object(j.a)({},S),{},{isCompleted:!1,id:e.draggableId})),"n-completed"===t&&"completed"===n&&y(Object(j.a)(Object(j.a)({},S),{},{isCompleted:!0,id:e.draggableId})))}},children:[Object(c.jsx)(x.c,{droppableId:"n-completed",children:function(e){return Object(c.jsxs)("div",Object(j.a)(Object(j.a)({className:"n-completed-container"},e.droppableProps),{},{ref:e.innerRef,children:[Object(c.jsx)("h2",{children:"To-do"}),_&&_.map((function(e,t){return Object(c.jsx)(x.b,{draggableId:e._id,index:t,children:function(t){return Object(c.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"todos-content"},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(c.jsxs)("div",{className:"todos-rows",children:[Object(c.jsx)(m.a,{checked:e.isCompleted,value:e.isCompleted,onChange:function(t){return y(Object(j.a)(Object(j.a)({},S),{},{isCompleted:e.isCompleted,id:e._id}))},inputProps:{"aria-label":"primary checkbox"}}),Object(c.jsx)("p",{className:e.isCompleted?"completed":"n-completed",children:e.todo})]})}))}},e._id)})),e.placeholder]}))}}),Object(c.jsxs)("div",{className:"completed-container",children:[Object(c.jsx)("h2",{children:"Completed"}),Object(c.jsx)(x.c,{droppableId:"completed",children:function(e){return Object(c.jsxs)("div",Object(j.a)(Object(j.a)({className:"todos-container"},e.droppableProps),{},{ref:e.innerRef,children:[N&&N.map((function(e,t){return Object(c.jsx)(x.b,{draggableId:e._id,index:t,children:function(t){return Object(c.jsx)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:"todos-content"},t.draggableProps),t.dragHandleProps),{},{ref:t.innerRef,children:Object(c.jsxs)("div",{className:"todos-rows",children:[Object(c.jsx)(m.a,{checked:e.isCompleted,value:e.isCompleted,onChange:function(t){return y(Object(j.a)(Object(j.a)({},S),{},{isCompleted:e.isCompleted,id:e._id}))},inputProps:{"aria-label":"primary checkbox"}}),Object(c.jsx)("p",{className:e.isCompleted?"completed":"n-completed",children:e.todo})]})}))}},e._id)})),e.placeholder]}))}})]})]})})]})},v=function(){return Object(c.jsx)(i.a,{children:Object(c.jsx)(l.c,{children:Object(c.jsx)(l.a,{exact:!0,path:"/",component:g})})})};var S=function(){return Object(c.jsx)("h1",{className:"header",children:"Todo App"})};var y=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(S,{}),Object(c.jsx)(v,{})]})},E={todos:null,message:null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS":return Object(j.a)(Object(j.a)({},e),{},{todos:t.payload.todos});case"FETCH_ERROR":return Object(j.a)(Object(j.a)({},e),{},{todos:null,message:"error"});case"TODO_ADDED_SUCCESSFUL":return Object(j.a)(Object(j.a)({},e),{},{message:t.payload.message});case"TODO_UPDATED_SUCCESSFUL":return Object(j.a)(Object(j.a)({},e),{},{todos:t.payload.todos,message:"success"});default:return e}},N=Object(s.c)({todo:_}),T=n(59),D=Object(s.e)(N,Object(s.a)(T.a)),P=document.getElementById("root");r.a.render(Object(c.jsx)(d.a,{store:D,children:Object(c.jsx)(y,{})}),P)}},[[83,1,2]]]);
//# sourceMappingURL=main.912e26c4.chunk.js.map